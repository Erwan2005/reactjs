{"ast":null,"code":"var _jsxFileName = \"/home/erwan/Documents/Frontend/reactjs/src/components/Login/index.jsx\";\nimport React from 'react';\nimport FormInput from \"../formInput/FormInput\";\nimport { login } from \"../../context/apiCall\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { Link, Typography, CircularProgress } from '@material-ui/core';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.preferedTheme = () => {\n      if (this.defaultDark) {\n        this.setState({\n          theme: 'dark'\n        });\n      }\n    };\n\n    this.inputs = [{\n      id: 1,\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Username\"\n    }, {\n      id: 2,\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\"\n    }];\n\n    this.onChange = e => {\n      this.setState({\n        values: { ...this.state.values,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.creatAccount = e => {\n      this.props.history.push(\"/CreatUser\");\n    };\n\n    this.login = () => {\n      login(this.props.dispatchs, {\n        username: this.state.values.username,\n        password: this.state.values.password\n      });\n    };\n\n    this.defaultDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n    this.state = {\n      values: {\n        username: \"\",\n        password: \"\"\n      },\n      theme: ''\n    };\n  }\n\n  componentDidMount() {\n    this.preferedTheme();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      \"data-theme\": this.state.theme,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right\",\n        children: [this.props.user.error && /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.error,\n          children: \"Username or password is wrong !!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 33\n        }, this), this.inputs.map(input => /*#__PURE__*/_jsxDEV(FormInput, { ...input,\n          value: this.state.values[input.name],\n          onChange: this.onChange\n        }, input.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchs: dispatch\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(index));","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/src/components/Login/index.jsx"],"names":["React","FormInput","login","connect","withRouter","Link","Typography","CircularProgress","index","Component","constructor","props","preferedTheme","defaultDark","setState","theme","inputs","id","name","type","placeholder","onChange","e","values","state","target","value","creatAccount","history","push","dispatchs","username","password","window","matchMedia","matches","componentDidMount","render","user","error","classes","map","input","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport FormInput from \"../formInput/FormInput\";\nimport { login } from \"../../context/apiCall\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { Link,Typography,CircularProgress } from '@material-ui/core';\nimport './style.css'\n\nexport class index extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.defaultDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n\t\tthis.state={\n\t\t\tvalues: ({\n\t\t          username: \"\",\n\t\t          password: \"\",\n\t\t        }),\n\t\t\ttheme: '',\n\t\t};\n\t}\n\n\tpreferedTheme = () =>{\n\t  \tif (this.defaultDark){\n\t  \t\tthis.setState({theme: 'dark'})\n\t  \t}\n  \t}\n\n  \tinputs = [\n\t    {\n\t      id: 1,\n\t      name: \"username\",\n\t      type: \"text\",\n\t      placeholder: \"Username\",\n\t    },\n\t    {\n\t      id: 2,\n\t      name: \"password\",\n\t      type: \"password\",\n\t      placeholder: \"Password\",\n\t    },\n\t  ];\n\n\t  onChange = (e) => {\n\t    this.setState({ values:{...this.state.values, [e.target.name]: e.target.value }});\n\t    \n\t  };\n\n\n\t  creatAccount = (e) => {\n\t    this.props.history.push(\"/CreatUser\");\n\t  };\n\t  login = () =>{\n\t   \n\t    login(this.props.dispatchs, { username: this.state.values.username, password: this.state.values.password });\n\t  }\n\n  \tcomponentDidMount(){\n\t  \tthis.preferedTheme()\n\t  };\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"login\" data-theme={this.state.theme}>\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t<span>Login</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right\">\n\t\t\t\t\t{this.props.user.error && (<Typography className={classes.error}>Username or password is wrong !!!</Typography>)}\n\t\t            {this.inputs.map((input) => (\n\t\t              <FormInput\n\t\t                key={input.id}\n\t\t                {...input}\n\t\t                value={this.state.values[input.name]}\n\t\t                onChange={this.onChange}\n\t\t              />\n\t\t            ))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchs: dispatch,\n});\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(index))"]},"metadata":{},"sourceType":"module"}