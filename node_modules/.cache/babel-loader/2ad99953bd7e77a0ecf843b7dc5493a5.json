{"ast":null,"code":"var _jsxFileName = \"/home/erwan/Documents/Frontend/reactjs/src/components/Profile/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { Route, Switch, withRouter, Link } from 'react-router-dom';\nimport { publicRequest, userRequest } from '../../requestMethods';\nimport Info from '../Info';\nimport { useQuery } from \"react-query\";\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Query(props) {\n  _s();\n\n  return props.children(useQuery(props.keyName, props.fn, props.options));\n}\n\n_s(Query, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\n_c = Query;\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getProfile = async () => {\n      let data = await publicRequest.get(`userapp/users/${this.props.match.params.id}`).then(({\n        data\n      }) => data);\n      this.setState({\n        profile: data\n      });\n    };\n\n    this.getFriends = async () => {\n      let data;\n      await publicRequest.get(`userapp/users/${this.props.match.params.id}`).then(res => data = res.data);\n      return data;\n    };\n\n    this.getFriend = async () => {\n      let data = await publicRequest.get('userapp/friend/').then(({\n        data\n      }) => data);\n      this.setState({\n        friends: data\n      });\n    };\n\n    this.checkFriend = (userId, friendId) => {\n      if (this.state.friends.filter(item => item.user == userId && item.friend == friendId).length == 0) return false;else return true;\n    };\n\n    this.state = {\n      friends: [],\n      profile: {}\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Query, {\n        keyName: \"users\",\n        fn: () => this.getFriends(),\n        children: ({\n          data,\n          isLoading,\n          error\n        }) => {\n          if (error) return /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 30\n          }, this);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: data.map(user => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profiles\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-to\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"@\", this.state.profile.username]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 62,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                        children: \"11k Friends\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 64,\n                        columnNumber: 14\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: \"11k Followers\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 65,\n                        columnNumber: 14\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 63,\n                      columnNumber: 13\n                    }, this), this.props.match.params.id == this.props.user.id ? null : this.checkFriend(this.props.user.id, this.props.match.params.id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"Message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 68,\n                      columnNumber: 80\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"Add friend\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 68,\n                      columnNumber: 107\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      children: \"Follow\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: this.state.profile.img_covert,\n                    alt: \"mur\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: this.state.profile.avatar,\n                    alt: \"avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 16\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: this.props.match.url,\n                        className: \"link\",\n                        children: \"Info\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 78,\n                        columnNumber: 17\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Photo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Videos\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Friends\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"Followers\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info\",\n                    children: /*#__PURE__*/_jsxDEV(Switch, {\n                      children: /*#__PURE__*/_jsxDEV(Route, {\n                        exact: true,\n                        path: this.props.match.url,\n                        children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 87,\n                          columnNumber: 26\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 24\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 16\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser\n});\n\nexport default connect(mapStateToProps, null)(withRouter(index));\n\nvar _c;\n\n$RefreshReg$(_c, \"Query\");","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/src/components/Profile/index.jsx"],"names":["React","connect","Route","Switch","withRouter","Link","publicRequest","userRequest","Info","useQuery","Query","props","children","keyName","fn","options","index","Component","constructor","getProfile","data","get","match","params","id","then","setState","profile","getFriends","res","getFriend","friends","checkFriend","userId","friendId","state","filter","item","user","friend","length","render","isLoading","error","map","username","img_covert","avatar","url","mapStateToProps","currentUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from \"react-redux\";\nimport { Route,Switch,withRouter,Link } from 'react-router-dom';\nimport { publicRequest,userRequest } from '../../requestMethods';\nimport Info from '../Info'\nimport { useQuery } from \"react-query\";\nimport './style.css'\n\nfunction Query(props) {\n  return props.children(useQuery(props.keyName, props.fn, props.options));\n}\n\nexport class index extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tfriends: [],\n\t    \tprofile: {},\n\t\t};\n\t}\n\n\tgetProfile = async() =>{\n\t\tlet data = await publicRequest.get(`userapp/users/${this.props.match.params.id}`)\n\t\t.then(({data}) => data)\n\t\tthis.setState({profile: data})\n\t}\n\n\tgetFriends = async() =>{\n\t\tlet data;\n\t\tawait publicRequest.get(`userapp/users/${this.props.match.params.id}`).then((res) => (data = res.data))\n\t\treturn data\n\t}\n\tgetFriend = async() =>{\n\t\tlet data = await publicRequest.get('userapp/friend/')\n\t\t.then(({data}) => data)\n\t\tthis.setState({friends: data})\n\t}\n\n\tcheckFriend = (userId,friendId) =>{\n\t    if (this.state.friends.filter(item=> item.user == userId && item.friend == friendId).length == 0)\n\t      return false\n\t    else return true\n\t};\n\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Query\n\t\t\t\t\tkeyName=\"users\"\n\t\t\t\t\tfn={() => this.getFriends()}\n\t\t\t\t>\n\t\t\t\t\t{({ data, isLoading, error }) => {\n\t          if (error) return <h1>Error</h1>;\n\t          return(\n\t          \t<div>\n\t          \t\t{ data.map(user =>{\n\t          \t\t\treturn (\n\t          \t\t\t\t<div className=\"profiles\">\n\t          \t\t\t\t<div className=\"image-to\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"action\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>@{this.state.profile.username}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<small>11k Friends</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<small>11k Followers</small>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.props.match.params.id == this.props.user.id ? null : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.checkFriend(this.props.user.id,this.props.match.params.id) ? <button>Message</button> : <button>Add friend</button>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<button>Follow</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<img src={this.state.profile.img_covert} alt=\"mur\" />\n\t\t\t\t\t\t\t\t\t\t\t<img src={this.state.profile.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"details\">\n\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t<li><Link to={this.props.match.url} className=\"link\">Info</Link></li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li>Photo</li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li>Videos</li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li>Friends</li>\n\t\t\t\t\t\t\t\t\t\t\t\t<li>Followers</li>\n\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t              <Route exact path={this.props.match.url}>\n\t\t\t\t\t\t\t\t\t                <Info />\n\t\t\t\t\t\t\t\t\t              </Route>\n\t\t\t\t\t\t\t\t\t            </Switch>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t          \t\t\t)\n\t          \t\t})}\n\t          \t</div>\n\t          )\n\t        }}\n\t\t\t\t</Query>\n\t\t\t</>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n});\nexport default connect(mapStateToProps,null)(withRouter(index))"]},"metadata":{},"sourceType":"module"}