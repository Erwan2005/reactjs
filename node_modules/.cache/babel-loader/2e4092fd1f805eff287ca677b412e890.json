{"ast":null,"code":"var _jsxFileName = \"/home/wantech/Documents/Reactjs/reactjs/src/components/Post/index.jsx\";\nimport React from 'react';\nimport { Card, CardHeader, CardActionArea, CardMedia, CardContent, CardActions, Collapse, CircularProgress } from '@material-ui/core';\nimport { MoreVert, FavoriteBorder, Share, Telegram, PermMedia, Room, EmojiEmotions, Favorite, InsertComment } from '@material-ui/icons';\nimport { publicRequest, userRequest, BASE_URL, parseRequest } from '../../requestMethods';\nimport { toast } from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { Link } from 'react-router-dom';\nimport NumericLabel from 'react-pretty-numbers';\nimport SuggestFriend from '../FriendSuggest';\nimport { format } from 'timeago.js';\nimport _ from 'lodash';\nimport Resizer from \"react-image-file-resizer\";\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleExpandClick = id => {\n      this.setState({\n        [`expanded_${id}`]: _.isUndefined(this.state[`expanded_${id}`]) ? true : !this.state[`expanded_${id}`]\n      });\n    };\n\n    this.imageHandler = async e => {\n      this.setState({\n        image: '',\n        video: null\n      });\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        if (reader.readyState === 2) {\n          console.log('File ready');\n        }\n      };\n\n      reader.readAsDataURL(e.target.files[0]);\n      const file = e.target.files[0];\n\n      if (file.size > 25e6) {\n        toast.error(\"Please upload a file smaller than 25 MB\");\n        return false;\n      } else {\n        if (file.type.split('/')[0] === 'image') {\n          this.setState({\n            image: file\n          });\n        }\n\n        if (file.type.split('/')[0] === 'video') {\n          this.setState({\n            video: file\n          });\n        }\n      }\n    };\n\n    this.getPub = async () => {\n      try {\n        this.setState({\n          loading: true\n        });\n        let data = await userRequest.get(`userapp/publication/?page=${this.state.page}`).then(({\n          data\n        }) => data);\n        this.setState({\n          publication: this.state.publication.concat(data.results),\n          loading: false\n        });\n\n        if (data.next) {\n          this.setState({\n            page: this.state.page + 1\n          });\n        } else {\n          this.setState({\n            more_exist: false,\n            end: true\n          });\n        }\n      } catch (error) {\n        throw new Error(error);\n      }\n    };\n\n    this.getLike = async () => {\n      let data = await userRequest.get('userapp/like/').then(({\n        data\n      }) => data);\n      this.setState({\n        like: data\n      });\n    };\n\n    this.getCom = async () => {\n      let data = await userRequest.get('userapp/comment/').then(({\n        data\n      }) => data);\n      this.setState({\n        comments: data\n      });\n    };\n\n    this.getUser = async () => {\n      let data = await userRequest.get('userapp/users/').then(({\n        data\n      }) => data);\n      this.setState({\n        users: data\n      });\n    };\n\n    this.getCurrentUser = async () => {\n      let data = await userRequest.get(`userapp/users/${this.props.user.id}/`).then(({\n        data\n      }) => data);\n      this.setState({\n        current: data\n      });\n    };\n\n    this.btnComment = async (content, id_post) => {\n      let author = parseInt(this.props.user.id, 10);\n      let post_connected = parseInt(id_post, 10);\n      var contents = {\n        content: content,\n        author: author,\n        post_connected: post_connected\n      };\n      let data = await userRequest.post('userapp/comment/', contents).then(({\n        data\n      }) => data);\n      this.setState({\n        comments: this.state.comments.concat(data)\n      });\n      this.setState({\n        comment: ''\n      });\n    };\n\n    this.btnShare = async () => {\n      this.setState({\n        sending: true\n      });\n      const formData = new FormData();\n      let author = parseInt(this.props.user.id, 10);\n      formData.append(\"user\", author);\n      formData.append(\"message\", this.state.share);\n\n      if (this.state.video !== null) {\n        formData.append(\"video\", this.state.video, this.state.video.name);\n      } else if (this.state.image !== null) {\n        formData.append(\"image\", this.state.image, this.state.image.name);\n      }\n\n      let data = await parseRequest.post('userapp/publication/', formData).then(({\n        data\n      }) => data);\n      toast.success('Post is sharing !');\n      this.setState({\n        share: '',\n        image: '',\n        video: '',\n        publication: [data].concat(this.state.publication),\n        sending: false\n      });\n    };\n\n    this.checkLiked = (userId, postId) => {\n      if (this.state.like.filter(item => item.author === userId && item.post_connected === postId).length === 0) return false;else return true;\n    };\n\n    this.dlt = async id => {\n      await userRequest.delete(`userapp/like/${id}`);\n      this.getLike();\n    };\n\n    this.dltLike = (userId, postId) => {\n      this.state.like.filter(item => item.author === userId && item.post_connected === postId).map(cheked => this.dlt(cheked.id));\n    };\n\n    this.postDelete = async id => {\n      const new_data = this.state.publication.filter(pub => {\n        if (pub.id === id) {\n          return false;\n        }\n\n        return true;\n      });\n      this.setState({\n        publication: new_data\n      });\n      let data = await userRequest.delete(`userapp/publication/${id}/`).then(({\n        data\n      }) => data);\n      toast.success('Post deleted');\n    };\n\n    this.postLike = async (author, post_connected) => {\n      let data = await userRequest.post('userapp/like/', {\n        author,\n        post_connected\n      }).then(({\n        data\n      }) => data);\n      this.setState({\n        like: this.state.like.concat(data)\n      });\n    };\n\n    this.handleScroll = e => {\n      const {\n        offsetHeight,\n        scrollTop,\n        scrollHeight\n      } = e.target;\n\n      if (offsetHeight + scrollTop >= scrollHeight) {\n        if (this.state.more_exist) {\n          this.getPub();\n        }\n      }\n    };\n\n    this.refImg = /*#__PURE__*/React.createRef();\n    this.state = {\n      expanded: false,\n      anchorElP: '',\n      comment: '',\n      share: '',\n      comments: [],\n      publication: [],\n      users: [],\n      current: [],\n      image: null,\n      video: null,\n      liked: false,\n      like: [],\n      error: '',\n      page: 1,\n      more_exist: true,\n      end: false,\n      loading: false,\n      sending: false\n    };\n  }\n\n  componentDidMount() {\n    this.getCurrentUser();\n    this.getPub();\n    this.getCom();\n    this.getLike();\n    this.getUser();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postCont\",\n      onScroll: this.handleScroll,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stories\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"storie-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.current.avatar,\n            alt: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"storie-card-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://cdn.pixabay.com/photo/2022/02/12/13/29/desert-7008952_960_720.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://cdn.pixabay.com/photo/2021/11/19/04/23/lotus-6808054_960_720.jpg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"share-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.current.avatar,\n            alt: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            placeholder: \"Type anything ...\",\n            value: this.state.share,\n            onChange: e => this.setState({\n              share: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"options\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option\",\n              onClick: event => {\n                event.preventDefault();\n                this.refImg.current.click();\n              },\n              children: [/*#__PURE__*/_jsxDEV(PermMedia, {\n                htmlColor: \"tomato\",\n                className: \"shareIcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"shareOptionText\",\n                children: \"Photo / video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"file-img\",\n              onChange: e => {\n                this.imageHandler(e);\n              },\n              ref: this.refImg,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option\",\n              children: [/*#__PURE__*/_jsxDEV(Room, {\n                htmlColor: \"green\",\n                className: \"shareIcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"shareOptionText\",\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option\",\n              children: [/*#__PURE__*/_jsxDEV(EmojiEmotions, {\n                htmlColor: \"goldenrod\",\n                className: \"shareIcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"shareOptionText\",\n                children: \"Feellings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.btnShare,\n            disabled: this.state.sending,\n            children: this.state.sending ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"white\",\n              size: \"20px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 98\n            }, this) : \"Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(SuggestFriend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(SuggestFriend, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 5\n      }, this), this.state.publication && this.state.publication.map((pub, index) => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            className: \"cardHeader\",\n            avatar: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: BASE_URL + 'media/' + pub.proprietary[0].avatar,\n              alt: \"avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this),\n            action: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu\",\n              children: pub.proprietary[0].id === this.props.user.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pop-menu\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u270E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => this.postDelete(pub.id),\n                  children: \"\\u2716\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this),\n            title: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"link\",\n              to: `/profile/${pub.proprietary[0].id}`,\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: pub.proprietary[0].username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 28\n            }, this),\n            subheader: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: format(pub.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 8\n          }, this), pub.image && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: pub.image,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 37\n          }, this), pub.video && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"video\", {\n              src: pub.video,\n              controls: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: pub.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: pub.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n            className: \"card-action\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [this.checkLiked(this.state.current.id, pub.id) ? /*#__PURE__*/_jsxDEV(Favorite, {\n                className: \"icon\",\n                onClick: () => this.dltLike(this.props.user.id, pub.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 32\n              }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorder, {\n                className: \"icon\",\n                onClick: () => this.postLike(this.props.user.id, pub.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 32\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: /*#__PURE__*/_jsxDEV(NumericLabel, {\n                  params: {\n                    shortFormat: true\n                  },\n                  children: this.state.like.filter(item => item.post_connected === pub.id).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(InsertComment, {\n                className: \"icon\",\n                onClick: () => this.handleExpandClick(pub.id),\n                \"aria-expanded\": this.state[`expanded_${pub.id}`] || false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: /*#__PURE__*/_jsxDEV(NumericLabel, {\n                  params: {\n                    shortFormat: true\n                  },\n                  children: this.state.comments.filter(item => item.post_connected === pub.id).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(Share, {\n                className: \"icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n            in: this.state[`expanded_${pub.id}`] || false,\n            timeout: \"auto\",\n            unmountOnExit: true,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-top\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: this.state.current.avatar,\n                  alt: \"avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: this.state.comment,\n                    placeholder: \"Share your advice ...\",\n                    onChange: e => this.setState({\n                      comment: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    onClick: () => this.btnComment(this.state.comment, pub.id),\n                    children: /*#__PURE__*/_jsxDEV(Telegram, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 77\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-top\",\n                children: this.state.users && this.state.users.map(author => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: this.state.comments && this.state.comments.map(post_com => {\n                      if (author.id === post_com.author && post_com.post_connected === pub.id) {\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"comments\",\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: author.avatar,\n                            alt: \"avatar\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 315,\n                            columnNumber: 16\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            children: post_com.content\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 316,\n                            columnNumber: 16\n                          }, this)]\n                        }, post_com.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 45\n                        }, this);\n                      } else return null;\n                    })\n                  }, author.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 38\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 7\n        }, this);\n      }), this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"var(--text-primary)\",\n          size: \"30px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 6\n      }, this), this.state.end && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"end-alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"You've reached the end\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser\n});\n\nexport default connect(mapStateToProps, null)(withRouter(index));","map":{"version":3,"sources":["/home/wantech/Documents/Reactjs/reactjs/src/components/Post/index.jsx"],"names":["React","Card","CardHeader","CardActionArea","CardMedia","CardContent","CardActions","Collapse","CircularProgress","MoreVert","FavoriteBorder","Share","Telegram","PermMedia","Room","EmojiEmotions","Favorite","InsertComment","publicRequest","userRequest","BASE_URL","parseRequest","toast","connect","withRouter","Link","NumericLabel","SuggestFriend","format","_","Resizer","index","Component","constructor","props","handleExpandClick","id","setState","isUndefined","state","imageHandler","e","image","video","reader","FileReader","onload","readyState","console","log","readAsDataURL","target","files","file","size","error","type","split","getPub","loading","data","get","page","then","publication","concat","results","next","more_exist","end","Error","getLike","like","getCom","comments","getUser","users","getCurrentUser","user","current","btnComment","content","id_post","author","parseInt","post_connected","contents","post","comment","btnShare","sending","formData","FormData","append","share","name","success","checkLiked","userId","postId","filter","item","length","dlt","delete","dltLike","map","cheked","postDelete","new_data","pub","postLike","handleScroll","offsetHeight","scrollTop","scrollHeight","refImg","createRef","expanded","anchorElP","liked","componentDidMount","render","avatar","value","event","preventDefault","click","display","proprietary","username","date","title","message","shortFormat","post_com","mapStateToProps","currentUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Card,CardHeader,CardActionArea,\n        CardMedia,CardContent,\n        CardActions,Collapse,CircularProgress } from '@material-ui/core';\nimport { MoreVert,FavoriteBorder,Share,Telegram,PermMedia,Room,EmojiEmotions,Favorite,InsertComment } from '@material-ui/icons';\nimport { publicRequest,userRequest, BASE_URL,parseRequest } from '../../requestMethods';\nimport { toast } from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { Link } from 'react-router-dom';\nimport NumericLabel from 'react-pretty-numbers';\nimport SuggestFriend from '../FriendSuggest';\nimport {format} from 'timeago.js';\nimport _ from 'lodash';\nimport Resizer from \"react-image-file-resizer\";\nimport './style.css'\nexport class index extends React.Component {\n\tconstructor(props){\n\t    super(props);\n\t    this.refImg = React.createRef();\n\t    this.state={\n\t            expanded:false,\n\t            anchorElP: '',\n\t            comment: '',\n\t            share: '',\n\t            comments: [],\n\t            publication: [],\n\t            users: [],\n\t            current: [],\n\t            image: null,\n\t            video: null,\n\t            liked: false,\n\t            like: [],\n\t            error: '',\n\t            page: 1,\n\t            more_exist: true,\n\t            end: false,\n\t            loading: false,\n\t            sending:false,\n\t        };\n\t};\n\n\thandleExpandClick = (id) => {\n\t    this.setState({ [`expanded_${id}`]:  _.isUndefined(this.state[`expanded_${id}`])?true:!this.state[`expanded_${id}`] });\n\t};\n\n\timageHandler = async (e) => {\n\t\t\tthis.setState({image:'',video:null})\n      const reader = new FileReader();\n      reader.onload = () =>{\n        if(reader.readyState === 2){\n          console.log('File ready')\n        }\n      }\n      reader.readAsDataURL(e.target.files[0])\n      const file = e.target.files[0];\n      if(file.size > 25e6){\n      \ttoast.error(\"Please upload a file smaller than 25 MB\");\n\t\t    return false;\n      }else{\n\t\t    if(file.type.split('/')[0] ==='image'){\n\t\t      this.setState({image:file})\n\t      }if(file.type.split('/')[0] ==='video'){\n\t      \tthis.setState({video:file})}}\n    };\n\n    getPub = async() =>{\n    \ttry{\n    \t\tthis.setState({loading: true})\n\t\t\tlet data = await userRequest.get(`userapp/publication/?page=${this.state.page}`)\n\t\t   .then(({data})=> data)\n\t\t   this.setState({publication: this.state.publication.concat(data.results),loading:false})\n\t\t   if (data.next){\n\t\t\t\tthis.setState({page: this.state.page + 1})\n\t\t   }else{\n\t\t   \t\tthis.setState({more_exist: false,end: true})\n\t\t   }\n\t\t   \n    \t}catch(error){\n    \t\tthrow new Error(error);\n    \t}\n\t   \n\t  };\n\tgetLike = async() =>{\n\t    let data = await userRequest.get('userapp/like/')\n\t    .then(({data})=>data)\n\t    this.setState({like: data})\n\t  };\n\n\tgetCom = async() =>{\n\t  \t\tlet data = await userRequest.get('userapp/comment/')\n\t      \t.then(({data}) => data)\n\t      \tthis.setState({comments: data})\n\t  };\n\tgetUser = async() =>{\n\t    let data = await userRequest.get('userapp/users/')\n\t    .then(({data}) => data)\n\t    this.setState({users: data})\n\t  };\n\tgetCurrentUser = async() =>{\n\t    let data = await userRequest.get(`userapp/users/${this.props.user.id}/`)\n\t\t.then(({data}) => data)\n\t    this.setState({current: data})\n\t  };\n\n\t  btnComment = async(content,id_post) => {\n\t    let author = parseInt(this.props.user.id, 10)\n\t    let post_connected = parseInt(id_post, 10)\n\t    var contents = {content:content,author:author,post_connected:post_connected}\n\t    let data = await userRequest.post('userapp/comment/',contents)\n\t    .then(({data}) => data)\n\t    this.setState({comments: this.state.comments.concat(data)})\n\t    this.setState({comment:''})\n\n\t    };\n\n\t  btnShare = async()=>{\n\t  \tthis.setState({sending:true})\n\t  \tconst formData = new FormData();\n\t    let author = parseInt(this.props.user.id, 10)\n\t    formData.append(\"user\",author)\n\t    formData.append(\"message\",this.state.share)\n\t\t\tif(this.state.video !==null){\n\t\t\t\tformData.append(\n\t        \"video\",\n\t        this.state.video,\n\t        this.state.video.name\n\t      );\n\t\t\t}else if(this.state.image !==null){\n\t\t\t\tformData.append(\n\t        \"image\",\n\t        this.state.image,\n\t        this.state.image.name\n\t       );\n\t\t\t}\n\t\t\tlet data = await parseRequest.post('userapp/publication/',formData)\n\t\t\t.then(({data}) => data)\n\t\t\ttoast.success('Post is sharing !')\n\t    this.setState({share:'',image:'',video:'',publication:[data].concat(this.state.publication),sending:false})\n\n\t  };\n\n\t  checkLiked = (userId,postId) =>{\n\t    if (this.state.like.filter(item=> item.author === userId && item.post_connected === postId).length === 0)\n\t      return false\n\t    else return true\n\t  };\n\n\t  dlt =async(id)=>{\n\t    await userRequest.delete(`userapp/like/${id}`)\n\t    this.getLike()\n\t  };\n\n\t  dltLike = (userId,postId)=>{\n\t    this.state.like.filter(item=> item.author === userId && item.post_connected === postId).map(cheked=>(this.dlt(cheked.id)))\n\t  };\n\n\t  postDelete = async(id)=>{\n\t  \tconst new_data = this.state.publication.filter(pub => {\n\t      if(pub.id === id) {\n\t        return false\n\t      }\n\t      return true;\n\t    })\n\t    this.setState({publication:new_data})\n\t  \tlet data = await userRequest.delete(`userapp/publication/${id}/`)\n\t\t\t.then(({data}) => data)\n\t    toast.success('Post deleted')\n\t  }\n\n\t  postLike = async(author,post_connected) =>{\n\t    let data = await userRequest.post('userapp/like/',{author,post_connected})\n\t    .then(({data})=>data)\n\t    this.setState({like: this.state.like.concat(data)})\n\t  };\n\n\thandleScroll = (e) => {\n\t\tconst { offsetHeight, scrollTop, scrollHeight } = e.target;\n\n\t\tif (offsetHeight + scrollTop >= scrollHeight) {\n\t\t\tif(this.state.more_exist){\n\t\t\t\tthis.getPub()\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.getCurrentUser()\n\t  \tthis.getPub()\n\t  \tthis.getCom()\n\t    this.getLike()\n\t    this.getUser()\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"postCont\" onScroll={this.handleScroll}>\n\t\t\t\t<div className=\"stories\">\n\t\t\t\t\t<div className=\"storie-card\">\n\t\t\t\t\t\t<img src={this.state.current.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t<button><span>&#43;</span></button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"storie-card-right\">\n\t\t\t\t\t\t<img src=\"https://cdn.pixabay.com/photo/2022/02/12/13/29/desert-7008952_960_720.jpg\" alt=\"\" />\n\t\t\t\t\t\t<img src=\"https://cdn.pixabay.com/photo/2021/11/19/04/23/lotus-6808054_960_720.jpg\" alt=\"\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"share-post\">\n\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t<img src={this.state.current.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t<textarea type=\"text\" placeholder=\"Type anything ...\"\n\t\t\t\t\t\tvalue = {this.state.share}\n\t\t                onChange = {e => this.setState({share:e.target.value})}\n\t\t                ></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"bottom\">\n\t\t\t\t\t\t<div className=\"options\">\n\t\t\t              \t<div className=\"option\" onClick={(event) => {\n\t\t\t\t                event.preventDefault();\n\t\t\t\t                this.refImg.current.click();\n\t\t\t\t                }}>\n\t\t\t\t                <PermMedia htmlColor=\"tomato\" className=\"shareIcon\"/>\n\t\t\t\t                <span className=\"shareOptionText\">Photo / video</span>\n\t\t\t\t            </div>\n\t\t\t\t            <input type='file' id='file-img' onChange={(e) => {\n\t\t\t\t                this.imageHandler(e);\n\t\t\t\t              }} ref={this.refImg} style={{display: 'none'}}/>\n\n\t\t\t\t            <div className=\"option\">\n\t\t\t\t                <Room htmlColor=\"green\" className=\"shareIcon\"/>\n\t\t\t\t                <span className=\"shareOptionText\">Location</span>\n\t\t\t\t            </div>\n\n\t\t\t\t            <div className=\"option\">\n\t\t\t\t                <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\"/>\n\t\t\t\t                <span className=\"shareOptionText\">Feellings</span>\n\t\t\t\t            </div>\n\t\t\t\t        </div>\n\t\t\t\t        <button onClick={this.btnShare} disabled={this.state.sending}>{ this.state.sending ? <CircularProgress color=\"white\" size=\"20px\"/> : \"Share\"}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<SuggestFriend />\n\t\t\t\t<SuggestFriend />\n\t\t\t\t{this.state.publication && this.state.publication.map((pub, index) =>{\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<Card className=\"card\">\n\t\t\t\t\t\t\t<CardHeader \n\t\t\t\t\t\t\t\tclassName=\"cardHeader\"\n\t\t                        avatar={\n\t\t                          <img src={BASE_URL+'media/'+pub.proprietary[0].avatar} alt=\"avatar\"/>\n\t\t                        }\n\t\t                        action={\n\t\t                        \t\t<div className=\"menu\">\n\t\t                        \t\t\t{pub.proprietary[0].id === this.props.user.id ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pop-menu\">\n\t\t\t                 \t\t\t\t\t\t\t\t<span>&#9998;</span>\n\t\t\t                        \t\t\t\t<span onClick={()=> this.postDelete(pub.id)}>&#x2716;</span>\n\t\t\t                        \t\t\t</div>\n\t\t                        \t\t\t\t) : null}\n\t\t                        \t\t</div>\n\t\t                           \n\t\t                        }\n\t\t                        title={\n\t\t                        \t<Link className=\"link\" to={`/profile/${pub.proprietary[0].id}`}>\n\t\t                          \t<h3>{pub.proprietary[0].username}</h3>\n\t\t                          </Link>\n\t\t                        }\n\t\t                        subheader={<small>{format(pub.date)}</small>}\n\t\t                    />\n\t\t                    {pub.image && <img src={pub.image} alt=\"\" />}\n\t\t                    {pub.video && (\n\t\t                    \t<div><video src={pub.video} controls /></div>)}\n\n\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<h3>{pub.title}</h3>\n\t\t\t\t\t\t\t\t<h5>{pub.message}</h5>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t<CardActions className=\"card-action\">\n\t\t\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t\t\t{(this.checkLiked(this.state.current.id,pub.id)) ? (\n\t\t\t                            <Favorite className=\"icon\" onClick={() => this.dltLike(this.props.user.id,pub.id)}/>\n\t\t\t                            ):(\n\t\t\t                            <FavoriteBorder className=\"icon\" onClick={() => this.postLike(this.props.user.id,pub.id)}/>\n\t\t\t                          )\n\t\t\t                        }\n\t\t\t\t\t\t\t\t\t<small><NumericLabel params={{shortFormat: true,}}>{this.state.like.filter(item=> item.post_connected === pub.id).length}</NumericLabel></small>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t\t\t<InsertComment className=\"icon\" \n\t\t\t\t\t\t\t\t\tonClick={() => this.handleExpandClick(pub.id)}\n\t\t                          aria-expanded={this.state[`expanded_${pub.id}`] || false}/>\n\t\t\t\t\t\t\t\t\t<small><NumericLabel params={{shortFormat: true,}}>{this.state.comments.filter(item=> item.post_connected === pub.id).length}</NumericLabel></small>\n\t\t\t\t\t\t\t\t\t<Share className=\"icon\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CardActions>\n\n\t\t\t\t\t\t\t<Collapse in={this.state[`expanded_${pub.id}`] || false} timeout=\"auto\" unmountOnExit>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<div className=\"col-top\">\n\t\t\t\t\t\t\t\t\t\t<img src={this.state.current.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" value={this.state.comment} placeholder=\"Share your advice ...\" onChange = {e => this.setState({comment:e.target.value})}/>\n\t\t\t\t\t\t\t\t\t\t\t<span onClick={() => this.btnComment(this.state.comment,pub.id)}><Telegram /></span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-top\">\n\t\t\t\t\t\t\t\t\t\t{this.state.users && this.state.users.map(author => {\n\t\t\t                                return(\n\t\t\t                                  <div key={author.id}>\n\t\t\t                                  \t{this.state.comments && this.state.comments.map(post_com => {\n\t\t\t                                      if (author.id === post_com.author && post_com.post_connected === pub.id){\n\t\t\t                                        return(\n\t\t\t                                        \t<div className=\"comments\" key={post_com.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={author.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small>{post_com.content}</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t                                        )\n\t\t\t                                       }else return null\n\t\t\t                                    })}\n\t\t\t                                  </div>\n\t\t\t                                )\n\t\t\t                            })}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t{this.state.loading &&(\n\t\t\t\t\t<div className=\"loading\">\n\t\t\t\t\t\t<CircularProgress color=\"var(--text-primary)\" size=\"30px\"/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{this.state.end && (\n\t\t\t\t\t<div className=\"end-alert\">\n\t\t\t\t\t\t<span>You've reached the end</span>\n\t\t\t\t\t\t<button>Refresh</button>\n\t\t\t\t\t</div>)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n});\nexport default connect(mapStateToProps,null)(withRouter(index))"]},"metadata":{},"sourceType":"module"}