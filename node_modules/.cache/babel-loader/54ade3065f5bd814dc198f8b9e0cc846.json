{"ast":null,"code":"'use strict';\n\nconst pdfjsLib = require('pdfjs-dist/es5/build/pdf.js');\n\nconst {\n  createCanvas,\n  createImage\n} = require('./createThumbImage');\n\nmodule.exports = function readPdf(pdf, config) {\n  pdfjsLib.getDocument(pdf).promise.then(function (doc) {\n    var pages = [];\n\n    while (pages.length < doc.numPages) pages.push(pages.length + 1);\n\n    return Promise.all(pages.map(function (num) {\n      return doc.getPage(num).then(page => {\n        createCanvas(page, config).then(canvas => {\n          console.log(canvas);\n          return createImage(canvas, config.name);\n        });\n      }).catch(err => {\n        return [false, err];\n      });\n    }));\n  });\n};","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/node_modules/react-pdf-thumbnail/lib/readPdf.js"],"names":["pdfjsLib","require","createCanvas","createImage","module","exports","readPdf","pdf","config","getDocument","promise","then","doc","pages","length","numPages","push","Promise","all","map","num","getPage","page","canvas","console","log","name","catch","err"],"mappings":"AAAA;;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,6BAAD,CAAxB;;AACA,MAAM;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,IAAgCF,OAAO,CAAC,oBAAD,CAA7C;;AACAG,MAAM,CAACC,OAAP,GAAiB,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,MAAtB,EAA8B;AAC9CR,EAAAA,QAAQ,CAACS,WAAT,CAAqBF,GAArB,EAA0BG,OAA1B,CAAkCC,IAAlC,CAAuC,UAAUC,GAAV,EAAe;AACrD,QAAIC,KAAK,GAAG,EAAZ;;AACA,WAAOA,KAAK,CAACC,MAAN,GAAeF,GAAG,CAACG,QAA1B,EAAoCF,KAAK,CAACG,IAAN,CAAWH,KAAK,CAACC,MAAN,GAAe,CAA1B;;AACpC,WAAOG,OAAO,CAACC,GAAR,CACNL,KAAK,CAACM,GAAN,CAAU,UAAUC,GAAV,EAAe;AACxB,aAAOR,GAAG,CACRS,OADK,CACGD,GADH,EAELT,IAFK,CAECW,IAAD,IAAU;AACfpB,QAAAA,YAAY,CAACoB,IAAD,EAAOd,MAAP,CAAZ,CAA2BG,IAA3B,CAAiCY,MAAD,IAAY;AAC3CC,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,iBAAOpB,WAAW,CAACoB,MAAD,EAASf,MAAM,CAACkB,IAAhB,CAAlB;AACA,SAHD;AAIA,OAPK,EAQLC,KARK,CAQEC,GAAD,IAAS;AACf,eAAO,CAAC,KAAD,EAAQA,GAAR,CAAP;AACA,OAVK,CAAP;AAWA,KAZD,CADM,CAAP;AAeA,GAlBD;AAmBA,CApBD","sourcesContent":["'use strict';\nconst pdfjsLib = require('pdfjs-dist/es5/build/pdf.js');\nconst { createCanvas, createImage } = require('./createThumbImage');\nmodule.exports = function readPdf(pdf, config) {\n\tpdfjsLib.getDocument(pdf).promise.then(function (doc) {\n\t\tvar pages = [];\n\t\twhile (pages.length < doc.numPages) pages.push(pages.length + 1);\n\t\treturn Promise.all(\n\t\t\tpages.map(function (num) {\n\t\t\t\treturn doc\n\t\t\t\t\t.getPage(num)\n\t\t\t\t\t.then((page) => {\n\t\t\t\t\t\tcreateCanvas(page, config).then((canvas) => {\n\t\t\t\t\t\t\tconsole.log(canvas);\n\t\t\t\t\t\t\treturn createImage(canvas, config.name);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\treturn [false, err];\n\t\t\t\t\t});\n\t\t\t})\n\t\t);\n\t});\n};\n"]},"metadata":{},"sourceType":"script"}