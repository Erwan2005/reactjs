{"ast":null,"code":"var _jsxFileName = \"/home/erwan/Documents/Frontend/reactjs/src/components/Profile/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { Route, Switch, withRouter, Link } from 'react-router-dom';\nimport { publicRequest, userRequest } from '../../requestMethods';\nimport Info from '../Info';\nimport { useQuery } from \"react-query\";\nimport wait from \"wait\";\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Query(props) {\n  _s();\n\n  return props.children(useQuery(props.keyName, props.fn, props.options));\n}\n\n_s(Query, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\n_c = Query;\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getProfile = async () => {\n      let data = await publicRequest.get(`userapp/users/${this.props.match.params.id}`).then(({\n        data\n      }) => data);\n      this.setState({\n        profile: data\n      });\n    };\n\n    this.getFriends = async () => {\n      await publicRequest.get('userapp/friend/').then(res => res.data);\n    };\n\n    this.getFriend = async () => {\n      let data = await publicRequest.get('userapp/friend/').then(({\n        data\n      }) => data);\n      this.setState({\n        friends: data\n      });\n    };\n\n    this.checkFriend = (userId, friendId) => {\n      if (this.state.friends.filter(item => item.user == userId && item.friend == friendId).length == 0) return false;else return true;\n    };\n\n    this.state = {\n      friends: [],\n      profile: {}\n    };\n  }\n\n  componentDidMount() {\n    this.getProfile();\n    this.getFriend();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Query, {\n        keyName: \"example\",\n        fn: () => wait(1000).then(() => \"result\"),\n        children: ({\n          data,\n          isLoading\n        }) => {\n          if (isLoading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 34\n          }, this);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"App\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [\"Hello \", data]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Start editing to see some magic happen!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 14\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser\n});\n\nexport default connect(mapStateToProps, null)(withRouter(index));\n\nvar _c;\n\n$RefreshReg$(_c, \"Query\");","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/src/components/Profile/index.jsx"],"names":["React","connect","Route","Switch","withRouter","Link","publicRequest","userRequest","Info","useQuery","wait","Query","props","children","keyName","fn","options","index","Component","constructor","getProfile","data","get","match","params","id","then","setState","profile","getFriends","res","getFriend","friends","checkFriend","userId","friendId","state","filter","item","user","friend","length","componentDidMount","render","isLoading","mapStateToProps","currentUser"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,EAAeC,MAAf,EAAsBC,UAAtB,EAAiCC,IAAjC,QAA6C,kBAA7C;AACA,SAASC,aAAT,EAAuBC,WAAvB,QAA0C,sBAA1C;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAO,aAAP;;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AACpB,SAAOA,KAAK,CAACC,QAAN,CAAeJ,QAAQ,CAACG,KAAK,CAACE,OAAP,EAAgBF,KAAK,CAACG,EAAtB,EAA0BH,KAAK,CAACI,OAAhC,CAAvB,CAAP;AACD;;GAFQL,K;UACeF,Q;;;KADfE,K;AAIT,OAAO,MAAMM,KAAN,SAAoBjB,KAAK,CAACkB,SAA1B,CAAoC;AAC1CC,EAAAA,WAAW,CAACP,KAAD,EAAO;AACjB,UAAMA,KAAN;;AADiB,SAQlBQ,UARkB,GAQL,YAAU;AACtB,UAAIC,IAAI,GAAG,MAAMf,aAAa,CAACgB,GAAd,CAAmB,iBAAgB,KAAKV,KAAL,CAAWW,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAA9D,EAChBC,IADgB,CACX,CAAC;AAACL,QAAAA;AAAD,OAAD,KAAYA,IADD,CAAjB;AAEA,WAAKM,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAEP;AAAV,OAAd;AACA,KAZiB;;AAAA,SAclBQ,UAdkB,GAcL,YAAU;AACtB,YAAMvB,aAAa,CAACgB,GAAd,CAAkB,iBAAlB,EAAqCI,IAArC,CAA0CI,GAAG,IAAIA,GAAG,CAACT,IAArD,CAAN;AACA,KAhBiB;;AAAA,SAiBlBU,SAjBkB,GAiBN,YAAU;AACrB,UAAIV,IAAI,GAAG,MAAMf,aAAa,CAACgB,GAAd,CAAkB,iBAAlB,EAChBI,IADgB,CACX,CAAC;AAACL,QAAAA;AAAD,OAAD,KAAYA,IADD,CAAjB;AAEA,WAAKM,QAAL,CAAc;AAACK,QAAAA,OAAO,EAAEX;AAAV,OAAd;AACA,KArBiB;;AAAA,SAuBlBY,WAvBkB,GAuBJ,CAACC,MAAD,EAAQC,QAAR,KAAoB;AAC9B,UAAI,KAAKC,KAAL,CAAWJ,OAAX,CAAmBK,MAAnB,CAA0BC,IAAI,IAAGA,IAAI,CAACC,IAAL,IAAaL,MAAb,IAAuBI,IAAI,CAACE,MAAL,IAAeL,QAAvE,EAAiFM,MAAjF,IAA2F,CAA/F,EACE,OAAO,KAAP,CADF,KAEK,OAAO,IAAP;AACR,KA3BiB;;AAEjB,SAAKL,KAAL,GAAW;AACVJ,MAAAA,OAAO,EAAE,EADC;AAEPJ,MAAAA,OAAO,EAAE;AAFF,KAAX;AAIA;;AAuBDc,EAAAA,iBAAiB,GAAE;AAChB,SAAKtB,UAAL;AACA,SAAKW,SAAL;AAED;;AACFY,EAAAA,MAAM,GAAG;AACR,wBACC;AAAA,6BACC,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAyB,QAAA,EAAE,EAAE,MAAMjC,IAAI,CAAC,IAAD,CAAJ,CAAWgB,IAAX,CAAgB,MAAM,QAAtB,CAAnC;AAAA,kBACM,CAAC;AAAEL,UAAAA,IAAF;AAAQuB,UAAAA;AAAR,SAAD,KAAyB;AACxB,cAAIA,SAAJ,EAAe,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACf,8BACE;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACE;AAAA,mCAAWvB,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAMD;AATN;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAeA;;AAnDyC;;AAsD3C,MAAMwB,eAAe,GAAIT,KAAD,KAAY;AAClCG,EAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWO;AADiB,CAAZ,CAAxB;;AAGA,eAAe7C,OAAO,CAAC4C,eAAD,EAAiB,IAAjB,CAAP,CAA8BzC,UAAU,CAACa,KAAD,CAAxC,CAAf","sourcesContent":["import React from 'react'\nimport { connect } from \"react-redux\";\nimport { Route,Switch,withRouter,Link } from 'react-router-dom';\nimport { publicRequest,userRequest } from '../../requestMethods';\nimport Info from '../Info'\nimport { useQuery } from \"react-query\";\n\nimport wait from \"wait\";\nimport './style.css'\n\nfunction Query(props) {\n  return props.children(useQuery(props.keyName, props.fn, props.options));\n}\n\nexport class index extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tfriends: [],\n\t    \tprofile: {},\n\t\t};\n\t}\n\n\tgetProfile = async() =>{\n\t\tlet data = await publicRequest.get(`userapp/users/${this.props.match.params.id}`)\n\t\t.then(({data}) => data)\n\t\tthis.setState({profile: data})\n\t}\n\n\tgetFriends = async() =>{\n\t\tawait publicRequest.get('userapp/friend/').then(res => res.data)\n\t}\n\tgetFriend = async() =>{\n\t\tlet data = await publicRequest.get('userapp/friend/')\n\t\t.then(({data}) => data)\n\t\tthis.setState({friends: data})\n\t}\n\n\tcheckFriend = (userId,friendId) =>{\n\t    if (this.state.friends.filter(item=> item.user == userId && item.friend == friendId).length == 0)\n\t      return false\n\t    else return true\n\t};\n\n\tcomponentDidMount(){\n\t  \tthis.getProfile()\n\t  \tthis.getFriend()\n\t  \t\n\t };\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Query keyName=\"example\" fn={() => wait(1000).then(() => \"result\")}>\n\t        {({ data, isLoading }) => {\n\t          if (isLoading) return <h1>Loading</h1>;\n\t          return (\n\t            <div className=\"App\">\n\t              <h1>Hello {data}</h1>\n\t              <h2>Start editing to see some magic happen!</h2>\n\t            </div>\n\t          );\n\t        }}\n\t      </Query>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n});\nexport default connect(mapStateToProps,null)(withRouter(index))"]},"metadata":{},"sourceType":"module"}