{"ast":null,"code":"var _jsxFileName = \"/home/erwan/Documents/Frontend/reactjs/src/components/Login/index.jsx\";\nimport React from 'react';\nimport FormInput from \"../formInput/FormInput\";\nimport { login } from \"../../context/apiCall\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { Link, Typography, CircularProgress } from '@material-ui/core';\nimport bcrypt from 'bcryptjs';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.preferedTheme = () => {\n      if (this.defaultDark) {\n        this.setState({\n          theme: 'dark'\n        });\n      }\n    };\n\n    this.inputs = [{\n      id: 1,\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email...\",\n      errorMessage: \"Invalid email\",\n      label: \"Email\",\n      required: true\n    }, {\n      id: 2,\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password...\"\n    }];\n\n    this.onChange = e => {\n      this.setState({\n        values: { ...this.state.values,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.creatAccount = e => {\n      this.props.history.push(\"/CreatUser\");\n    };\n\n    this.login = () => {\n      let password = bcrypt.hashSync(this.state.values.password, bcrypt.genSaltSync(10));\n      console.log(password);\n      login(this.props.dispatchs, {\n        username: this.state.values.email,\n        password: password\n      });\n    };\n\n    this.defaultDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n    this.state = {\n      values: {\n        username: \"\",\n        password: \"\"\n      },\n      theme: ''\n    };\n  }\n\n  componentDidMount() {\n    this.preferedTheme();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      \"data-theme\": this.state.theme,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Chat, buy and share all \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 36\n          }, this), \"with your family and friend\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rights\",\n        children: [this.props.user.error && /*#__PURE__*/_jsxDEV(Typography, {\n          className: \"error\",\n          children: \"Username or password is wrong !!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this), this.inputs.map(input => /*#__PURE__*/_jsxDEV(FormInput, { ...input,\n          value: this.state.values[input.name],\n          onChange: this.onChange\n        }, input.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-login\",\n          onClick: this.login,\n          disabled: this.props.user.isFetching,\n          onClick: this.login,\n          children: this.props.user.isFetching ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            color: \"white\",\n            size: \"20px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 23\n          }, this) : \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          variant: \"body2\",\n          component: \"button\",\n          onClick: this.creatAccount,\n          className: \"link\",\n          children: \"Not have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          variant: \"body2\",\n          component: \"button\",\n          className: \"link\",\n          children: \"Forgot password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"textSecondary\",\n          align: \"center\",\n          children: ['Copyright © ', /*#__PURE__*/_jsxDEV(Link, {\n            color: \"inherit\",\n            href: \"https://material-ui.com/\",\n            children: \"WanTech corp,\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 19\n          }, this), ' ', new Date().getFullYear(), '.']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchs: dispatch\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(index));","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/src/components/Login/index.jsx"],"names":["React","FormInput","login","connect","withRouter","Link","Typography","CircularProgress","bcrypt","index","Component","constructor","props","preferedTheme","defaultDark","setState","theme","inputs","id","name","type","placeholder","errorMessage","label","required","onChange","e","values","state","target","value","creatAccount","history","push","password","hashSync","genSaltSync","console","log","dispatchs","username","email","window","matchMedia","matches","componentDidMount","render","user","error","map","input","isFetching","Date","getFullYear","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport FormInput from \"../formInput/FormInput\";\nimport { login } from \"../../context/apiCall\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport { Link,Typography,CircularProgress } from '@material-ui/core';\nimport bcrypt from 'bcryptjs' \nimport './style.css'\n\nexport class index extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.defaultDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n\t\tthis.state={\n\t\t\tvalues: ({\n\t\t          username: \"\",\n\t\t          password: \"\",\n\t\t        }),\n\t\t\ttheme: '',\n\t\t};\n\t}\n\n\tpreferedTheme = () =>{\n\t  \tif (this.defaultDark){\n\t  \t\tthis.setState({theme: 'dark'})\n\t  \t}\n  \t}\n\n  \tinputs = [\n\t    {\n\t      id: 1,\n\t      name: \"email\",\n        type: \"email\",\n        placeholder: \"Email...\",\n        errorMessage: \"Invalid email\",\n        label: \"Email\",\n        required: true,\n\t    },\n\t    {\n\t      id: 2,\n\t      name: \"password\",\n\t      type: \"password\",\n\t      placeholder: \"Password...\",\n\t    },\n\t  ];\n\n\t  onChange = (e) => {\n\t    this.setState({ values:{...this.state.values, [e.target.name]: e.target.value }});\n\t    \n\t  };\n\n\n\t  creatAccount = (e) => {\n\t    this.props.history.push(\"/CreatUser\");\n\t  };\n\t  login = () =>{\n\t   \tlet password = bcrypt.hashSync(this.state.values.password , bcrypt.genSaltSync(10))\n\t   \tconsole.log(password)\n\t    login(this.props.dispatchs, { username: this.state.values.email, password: password});\n\t  }\n\n  \tcomponentDidMount(){\n\t  \tthis.preferedTheme()\n\t  };\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"login\" data-theme={this.state.theme}>\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t<span>Chat, buy and share all <br />with your family and friend</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"rights\">\n\t\t\t\t\t{this.props.user.error && (<Typography className=\"error\">Username or password is wrong !!!</Typography>)}\n\t\t            {this.inputs.map((input) => (\n\t\t              <FormInput\n\t\t                key={input.id}\n\t\t                {...input}\n\t\t                value={this.state.values[input.name]}\n\t\t                onChange={this.onChange}\n\t\t              />\n\t\t            ))}\n\t\t            <button className=\"btn-login\"\n\t\t              onClick={this.login}\n\t\t              disabled={this.props.user.isFetching}\n\t\t                onClick={this.login}>\n\t\t                  {this.props.user.isFetching ? (\n\t\t                    <CircularProgress color=\"white\" size=\"20px\" />\n\t\t                  ) : (\n\t\t                    \"Log In\"\n\t\t                  )}\n\t\t            </button>\n\t\t            <Link variant=\"body2\" component=\"button\" onClick = {this.creatAccount} className=\"link\">\n\t\t                {\"Not have an account?\"}\n\t\t            </Link>\n\t\t            <Link variant=\"body2\" component=\"button\" className=\"link\">\n\t\t                {\"Forgot password\"}\n\t\t            </Link>\n\t\t            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t                {'Copyright © '}\n\t\t                <Link color=\"inherit\" href=\"https://material-ui.com/\">\n\t\t                  WanTech corp,\n\t\t                </Link>{' '}\n\t\t                {new Date().getFullYear()}\n\t\t                {'.'}\n\t\t            </Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchs: dispatch,\n});\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(index))"]},"metadata":{},"sourceType":"module"}