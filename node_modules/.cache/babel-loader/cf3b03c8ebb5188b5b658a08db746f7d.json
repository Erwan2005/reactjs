{"ast":null,"code":"var _jsxFileName = \"/home/erwan/Documents/Frontend/reactjs/src/components/Friends/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Search } from '@material-ui/icons';\nimport { connect } from \"react-redux\";\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { publicRequest, userRequest } from '../../requestMethods';\nimport NumericLabel from 'react-pretty-numbers';\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Query(props) {\n  _s();\n\n  return props.children(useQuery(props.keyName, props.fn, props.options));\n}\n\n_s(Query, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\n_c = Query;\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.friends = async () => {\n      let data;\n      await publicRequest.get('userapp/friendrequest/').then(resp => data = resp.data);\n      return data;\n    };\n\n    this.dltRequest = async id => {\n      let data = await publicRequest.delete(`userapp/friendrequest/${id}`).then(({\n        data\n      }) => data);\n    };\n\n    this.getFriends = async () => {\n      await publicRequest.get('userapp/friend/').then(resp => {\n        this.setState({\n          friends: resp.data\n        });\n      });\n      await publicRequest.get('userapp/users/').then(resp => {\n        this.setState({\n          profiles: resp.data\n        });\n      });\n      console.log(this.state.friends);\n    };\n\n    this.addFriend = async (friend, id) => {\n      await publicRequest.post('userapp/friend/', {\n        user: this.props.user.id,\n        friend: friend\n      }).then(resp => console.log(resp));\n      await publicRequest.post('userapp/friend/', {\n        user: friend,\n        friend: this.props.user.id\n      }).then(resp => console.log(resp));\n      await publicRequest.delete(`userapp/friendrequest/${id}`).then(resp => console.log(resp));\n    };\n\n    this.state = {\n      friends: [],\n      profiles: []\n    };\n  }\n\n  componentDidMount() {\n    this.getFriends();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"friends\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search friend ...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total: 2k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\",\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 11\n              }, this), \"Erwan\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Since \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Block\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 11\n              }, this), \" | \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: '<'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: '>'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\",\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Erwan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: \"110k Friends\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Unblock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom\",\n          children: /*#__PURE__*/_jsxDEV(Query, {\n            keyName: \"friend\",\n            fn: () => this.friends(),\n            children: ({\n              data,\n              isLoading,\n              error\n            }) => {\n              if (error) return /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 33\n              }, this);\n              const events = data !== null && data !== void 0 ? data : [];\n              return events.map(request => {\n                return this.state.profiles.map(sender => {\n                  if (request.receiver === this.props.user.id && request.sender === sender.id) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"request\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"request-profile\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: sender.avatar,\n                          alt: \"avatar\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 117,\n                          columnNumber: 18\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"profile-text\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: sender.username\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 119,\n                            columnNumber: 19\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            children: [/*#__PURE__*/_jsxDEV(NumericLabel, {\n                              params: {\n                                shortFormat: true\n                              },\n                              children: sender.friend_nbr\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 120,\n                              columnNumber: 26\n                            }, this), \" Friends\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 120,\n                            columnNumber: 19\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 118,\n                          columnNumber: 18\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"request-action\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => this.addFriend(sender.id, request.id),\n                          children: \"Accept\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 18\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => this.dltRequest(request.id),\n                          children: \"Decline\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 18\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 17\n                      }, this)]\n                    }, request.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 16\n                    }, this);\n                  } else return null;\n                });\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 6\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser\n});\n\nexport default connect(mapStateToProps, null)(withRouter(index));\n\nvar _c;\n\n$RefreshReg$(_c, \"Query\");","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/src/components/Friends/index.jsx"],"names":["React","Search","connect","Route","Switch","withRouter","Link","publicRequest","userRequest","NumericLabel","useQuery","axios","Query","props","children","keyName","fn","options","index","Component","constructor","friends","data","get","then","resp","dltRequest","id","delete","getFriends","setState","profiles","console","log","state","addFriend","friend","post","user","componentDidMount","render","isLoading","error","events","map","request","sender","receiver","avatar","username","shortFormat","friend_nbr","mapStateToProps","currentUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Search } from '@material-ui/icons';\nimport { connect } from \"react-redux\";\nimport { Route,Switch,withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { publicRequest,userRequest } from '../../requestMethods';\nimport NumericLabel from 'react-pretty-numbers';\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport './style.css'\n\nfunction Query(props) {\n  return (props.children(useQuery(props.keyName, props.fn, props.options)));\n}\n\nexport class index extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.state={\n\t\t\tfriends: [],\n\t    \tprofiles: [],\n\t\t};\n\t}\n\n\tfriends = async() =>{\n\t\tlet data\n\t\tawait publicRequest.get('userapp/friendrequest/').then(resp => (data=resp.data))\n\t\treturn data\n\t}\n\n\tdltRequest = async(id) =>{\n    let data = await publicRequest.delete(`userapp/friendrequest/${id}`)\n    .then(({data}) => data)\n  };\n\tgetFriends = async() =>{\n\t\tawait publicRequest.get('userapp/friend/')\n\t\t.then(resp => {this.setState({friends: resp.data})})\n\n\t\tawait publicRequest.get('userapp/users/')\n\t\t.then(resp => {this.setState({profiles: resp.data})})\n\n\t\tconsole.log(this.state.friends)\n\t}\n\n\taddFriend = async(friend,id) =>{\n    await publicRequest.post('userapp/friend/',{user:this.props.user.id,friend:friend}).then(resp => (console.log(resp)));\n    await publicRequest.post('userapp/friend/',{user:friend,friend:this.props.user.id}).then(resp => (console.log(resp)));\n    await publicRequest.delete(`userapp/friendrequest/${id}`).then(resp => (console.log(resp)));\n  }\n\n\tcomponentDidMount(){\n\t  \tthis.getFriends()\n\t};\n\trender() {\n\t\treturn (\n\t\t\t\t\t<div className=\"friends\">\n\t\t\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t\t\t<div className=\"search\">\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Search friend ...\"/>\n\t\t\t\t\t\t\t\t\t\t<span><Search /></span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span>Total: 2k</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<img src=\"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\" alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\tErwan\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>Since </td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<span>Block</span> | <span>Delete</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\t\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t<div className=\"pagination\">\n\t\t\t\t\t\t\t\t<button className=\"btnPage\"><span>{'<'}</span></button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\">1</button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\">2</button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\">3</button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\"><span>{'>'}</span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"right\">\n\t\t\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t\t\t<div className=\"profile-container\">\n\t\t\t\t\t\t\t\t\t<div className=\"profile-left\">\n\t\t\t\t\t\t\t\t\t\t<img src=\"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\" alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t \t<div className=\"profile-text\">\n\t\t\t\t\t\t\t\t\t \t\t<span>Erwan</span>\n\t\t\t\t\t\t\t\t\t \t\t<small>110k Friends</small>\n\t\t\t\t\t\t\t\t\t \t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span>Unblock</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bottom\">\n\t\t\t\t\t\t\t\t<Query\n\t\t\t\t\t\t\t\t\tkeyName=\"friend\"\n\t\t\t\t\t\t\t\t\tfn={() => this.friends()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{({ data, isLoading, error }) => {\n\t\t\t\t          if (error) return <h1>Error</h1>;\n\t\t\t\t          const events = data ?? []\n\t\t\t\t          return(\n\t\t\t\t          \tevents.map((request) =>{\n\t\t\t\t\t          \treturn(\n\t\t\t\t\t          \t\tthis.state.profiles.map((sender) => {\n\t\t\t\t\t          \t\t\tif (request.receiver === this.props.user.id && request.sender === sender.id){\n\t\t\t\t\t          \t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"request\" key={request.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <div className=\"request-profile\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<img src={sender.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<div className=\"profile-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t<span>{sender.username}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t<small><NumericLabel params={{shortFormat: true,}}>{sender.friend_nbr}</NumericLabel> Friends</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <div className=\"request-action\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<button onClick={() => this.addFriend(sender.id,request.id)}>Accept</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<button onClick={()=>this.dltRequest(request.id)}>Decline</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t          \t\t\t\t)\n\t\t\t\t\t          \t\t\t}else return null;\n\t\t\t\t\t          \t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t          \t)\n\n\t\t\t\t\t          }) \t\n\t\t\t\t          )\n\t\t\t\t          }}\n\t\t\t\t\t\t\t\t</Query>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n});\nexport default connect(mapStateToProps,null)(withRouter(index))"]},"metadata":{},"sourceType":"module"}