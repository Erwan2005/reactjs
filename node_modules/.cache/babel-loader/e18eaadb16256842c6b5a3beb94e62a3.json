{"ast":null,"code":"var _jsxFileName = \"/home/erwan/Documents/Frontend/reactjs/src/components/Friends/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Search } from '@material-ui/icons';\nimport { connect } from \"react-redux\";\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { publicRequest, userRequest } from '../../requestMethods';\nimport { useQuery } from \"react-query\";\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Query(props) {\n  _s();\n\n  return props.children(useQuery(props.keyName, props.fn, props.options));\n}\n\n_s(Query, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\n_c = Query;\nexport class index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.friends = async () => {\n      let data;\n      await publicRequest.get('userapp/friendrequest/').then(resp => data = resp.data);\n      return data;\n    };\n\n    this.dltRequest = async id => {\n      let data = await publicRequest.delete(apiService.url + `friendrequest/${id}`).then(({\n        data\n      }) => data);\n    };\n\n    this.getFriends = async () => {\n      await publicRequest.get('userapp/friend/').then(resp => {\n        this.setState({\n          friends: resp.data\n        });\n      });\n      await publicRequest.get('userapp/users/').then(resp => {\n        this.setState({\n          profiles: resp.data\n        });\n      });\n      console.log(this.state.friends);\n    };\n\n    this.state = {\n      friends: [],\n      profiles: []\n    };\n  }\n\n  componentDidMount() {\n    this.getFriends();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"friends\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search friend ...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total: 2k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\",\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 11\n              }, this), \"Erwan\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Since \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Block\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 11\n              }, this), \" | \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: '<'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btnPage\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: '>'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\",\n                alt: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Erwan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: \"110k Friends\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Unblock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom\",\n          children: /*#__PURE__*/_jsxDEV(Query, {\n            keyName: \"friend\",\n            fn: () => this.friends(),\n            children: ({\n              data,\n              isLoading,\n              error\n            }) => {\n              if (error) return /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 33\n              }, this);\n              const events = data !== null && data !== void 0 ? data : [];\n              return events.map(request => {\n                return this.state.profiles.map(sender => {\n                  if (request.receiver === this.props.user.id && request.sender === sender.id) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"request\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"request-profile\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: sender.avatar,\n                          alt: \"avatar\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 18\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"profile-text\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            children: sender.username\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 110,\n                            columnNumber: 19\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            children: \"110k Friends\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 111,\n                            columnNumber: 19\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 109,\n                          columnNumber: 18\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"request-action\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          children: \"Accept\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 18\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => dltRequest(request.id),\n                          children: \"Decline\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 18\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 17\n                      }, this)]\n                    }, request.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 16\n                    }, this);\n                  } else return null;\n                });\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user.currentUser\n});\n\nexport default connect(mapStateToProps, null)(withRouter(index));\n\nvar _c;\n\n$RefreshReg$(_c, \"Query\");","map":{"version":3,"sources":["/home/erwan/Documents/Frontend/reactjs/src/components/Friends/index.jsx"],"names":["React","Search","connect","Route","Switch","withRouter","Link","publicRequest","userRequest","useQuery","Query","props","children","keyName","fn","options","index","Component","constructor","friends","data","get","then","resp","dltRequest","id","delete","apiService","url","getFriends","setState","profiles","console","log","state","componentDidMount","render","isLoading","error","events","map","request","sender","receiver","user","avatar","username","mapStateToProps","currentUser"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Search } from '@material-ui/icons';\nimport { connect } from \"react-redux\";\nimport { Route,Switch,withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { publicRequest,userRequest } from '../../requestMethods';\nimport { useQuery } from \"react-query\";\nimport './style.css'\n\nfunction Query(props) {\n  return (props.children(useQuery(props.keyName, props.fn, props.options)));\n}\n\nexport class index extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.state={\n\t\t\tfriends: [],\n\t    \tprofiles: [],\n\t\t};\n\t}\n\n\tfriends = async() =>{\n\t\tlet data\n\t\tawait publicRequest.get('userapp/friendrequest/').then(resp => (data=resp.data))\n\t\treturn data\n\t}\n\n\tdltRequest = async(id) =>{\n    let data = await publicRequest.delete(apiService.url+`friendrequest/${id}`)\n    .then(({data}) => data)\n  };\n\tgetFriends = async() =>{\n\t\tawait publicRequest.get('userapp/friend/')\n\t\t.then(resp => {this.setState({friends: resp.data})})\n\n\t\tawait publicRequest.get('userapp/users/')\n\t\t.then(resp => {this.setState({profiles: resp.data})})\n\n\t\tconsole.log(this.state.friends)\n\t}\n\tcomponentDidMount(){\n\t  \tthis.getFriends()\n\t};\n\trender() {\n\t\treturn (\n\t\t\t\t\t<div className=\"friends\">\n\t\t\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t\t\t<div className=\"search\">\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Search friend ...\"/>\n\t\t\t\t\t\t\t\t\t\t<span><Search /></span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span>Total: 2k</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<img src=\"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\" alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\tErwan\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>Since </td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<span>Block</span> | <span>Delete</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\t\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t<div className=\"pagination\">\n\t\t\t\t\t\t\t\t<button className=\"btnPage\"><span>{'<'}</span></button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\">1</button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\">2</button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\">3</button>\n\t\t\t\t\t\t\t\t<button className=\"btnPage\"><span>{'>'}</span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"right\">\n\t\t\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t\t\t<div className=\"profile-container\">\n\t\t\t\t\t\t\t\t\t<div className=\"profile-left\">\n\t\t\t\t\t\t\t\t\t\t<img src=\"https://cdn.pixabay.com/photo/2022/02/14/08/53/woman-7012726_960_720.jpg\" alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t \t<div className=\"profile-text\">\n\t\t\t\t\t\t\t\t\t \t\t<span>Erwan</span>\n\t\t\t\t\t\t\t\t\t \t\t<small>110k Friends</small>\n\t\t\t\t\t\t\t\t\t \t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span>Unblock</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bottom\">\n\t\t\t\t\t\t\t\t<Query\n\t\t\t\t\t\t\t\t\tkeyName=\"friend\"\n\t\t\t\t\t\t\t\t\tfn={() => this.friends()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{({ data, isLoading, error }) => {\n\t\t\t\t          if (error) return <h1>Error</h1>;\n\t\t\t\t          const events = data ?? []\n\t\t\t\t          return(\n\t\t\t\t          \tevents.map((request) =>{\n\t\t\t\t\t          \treturn(\n\t\t\t\t\t          \t\tthis.state.profiles.map((sender) => {\n\t\t\t\t\t          \t\t\tif (request.receiver === this.props.user.id && request.sender === sender.id){\n\t\t\t\t\t          \t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"request\" key={request.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <div className=\"request-profile\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<img src={sender.avatar} alt=\"avatar\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<div className=\"profile-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t<span>{sender.username}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t<small>110k Friends</small>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t <div className=\"request-action\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<button>Accept</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t<button onClick={()=>dltRequest(request.id)}>Decline</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t          \t\t\t\t)\n\t\t\t\t\t          \t\t\t}else return null;\n\t\t\t\t\t          \t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t          \t)\n\n\t\t\t\t\t          }) \t\n\t\t\t\t          )\n\t\t\t\t          }}\n\t\t\t\t\t\t\t\t</Query>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n});\nexport default connect(mapStateToProps,null)(withRouter(index))"]},"metadata":{},"sourceType":"module"}